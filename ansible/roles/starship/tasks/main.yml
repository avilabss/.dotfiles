---
- name: Check if starship is installed
  ansible.builtin.command: which starship
  register: starship_check
  changed_when: false
  failed_when: false

- name: Install starship via install script (Linux)
  ansible.builtin.shell: curl -sS {{ starship_install_url }} | sh -s -- -y
  when:
    - starship_check.rc != 0
    - ansible_os_family != 'Darwin'
